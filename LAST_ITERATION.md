This iteration focuses on code cleanup and fixing a functional bug related to a game mechanic.

1.  **Code Cleanup (JavaScript)**: A large block of code containing illustration drawing functions (`illustrationHelpers` and `illustrationDrawers`) was duplicated in `static/js/main.js`. Since these are already defined in `static/js/illustrations.js`, which is loaded first, the redundant code has been removed from `main.js`. This significantly cleans up the main JavaScript file, improves maintainability, and reduces file size.

2.  **Bugfix & Feature Implementation (Python)**: An issue was identified where `scorched_zones` (created by the 'Scorch Territory' action) did not correctly block line-of-sight actions like `Attack Line` or `Extend Line`. The `scorched_zones` game state was not being passed to the underlying geometry helper functions (`is_ray_blocked` and `get_extended_border_point`). All calls to these functions across the action handler files have been updated to include this state, activating the intended terraforming feature and fixing the previously dead code path.