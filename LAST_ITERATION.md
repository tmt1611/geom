- **Performance Optimization:** Refactored the simulation playback logic to significantly improve performance, especially for long games running in the browser with Pyodide. Instead of pre-processing the entire simulation history at once, the frontend now receives a "raw" history and only augments each step with detailed visualization data on-demand as the user views it.
- **Code Refactoring (Backend):** The core simulation logic in `game_logic.py` was cleaned up. The state augmentation logic was moved into its own public method (`augment_state_for_frontend`), and the `run_full_simulation` method was simplified to only generate the raw history, improving separation of concerns.
- **Code Refactoring (Frontend):** The frontend state management in `main.js` was updated to handle the new on-demand augmentation. It now maintains a cache of processed states to avoid re-calculating data for steps that have already been viewed. The main rendering function was replaced with a new `showStateAtIndex` function to manage this new flow.